/**
 serialized-property - serialize and deserialize property
 @version v0.0.1
 @link https://github.com/7korobi/serialized-property
 @license 
**/
(function(){var Serial,array_base_parser,c,func,i,key,len,n,pack,patch_size,ref,serial,string_parser,string_serializer,unpack;for(serial={to_s:"0123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",to_i:{}},ref=serial.to_s,n=i=0,len=ref.length;len>i;n=++i)c=ref[n],serial.to_i[c]=n;serial.size=serial.to_s.length,patch_size=serial.size*serial.size*serial.size,string_parser=function(r){switch(r){case"":case null:case void 0:return"";default:return String(r)}},string_serializer=function(r){switch(r){case"":case null:case void 0:return"";default:return String(r).replace(/[~\/=.&\?\#\[\]()\"'`;]/g,function(r){return"%"+r.charCodeAt(0).toString(16)})}},array_base_parser=function(r){return Array.isArray(r)?r:(""+r).split(",")},pack={Keys:function(r){var e,n,t;return t=function(){var t;if(Array.isArray(r))return r;t=[];for(n in r)e=r[n],e&&t.push(n);return t}(),pack.Array(t.sort())},Array:function(r){return Array.isArray(r)?r.join(","):""+r},Date:function(r){var e,n;for(n=Math.floor(r),e="";n>=1;)e+=serial.to_s[n%serial.size],n=Math.floor(n/serial.size);return e},Bool:function(r){return r?"T":"F"},Number:string_serializer,Text:string_serializer,String:string_serializer,"null":string_serializer,undefined:string_serializer,Thru:function(r){return r}},unpack={HtmlGon:function(html){var code,pattern,script;for(pattern=/<script.*?>([\s\S]*?)<\/script>/gi;script=pattern.exec(html);)code=script[1],code.length>0&&eval(code);return gon},Keys:function(r){var e,n,t,a,i,s;if(n={},r.length)for(s=array_base_parser(r),t=0,i=s.length;i>t;t++)a=s[t],n[a]=!0;else for(a in r)e=r[a],e&&(n[a]=!0);return n},Array:function(r){return r.length?array_base_parser(r):[]},Date:function(r){var e,t,a,i;if(r>0)return r;for(e=1,i=0,t=0,a=r.length;a>t;t++){if(c=r[t],n=serial.to_i[c],null==n)return Number.NaN;i+=n*e,e*=serial.size}return i},Bool:function(r){switch(r){case!0:case"T":return!0;case!1:case"F":return!1;default:return Number.NaN}},Number:Number,Text:string_parser,String:string_parser,"null":string_parser,undefined:string_parser,Thru:function(r){return r}},Serial={url:{},ID:{now:function(){return Serial.ID.at(_.now())},at:function(r,e){return null==e&&(e=Math.random()*patch_size),pack.Date(r*patch_size+e)}}};for(key in unpack)func=unpack[key],Serial.url[key]=function(){switch(key){case"Number":return"([-]?[\\.0-9]+)";case"Date":return"([0-9a-zA-Z]+)";case"Array":case"Keys":return"([^\\~\\/\\=\\.\\&\\[\\]\\(\\)\\\"\\'\\`\\;]*)";case"Text":return"([^\\~\\/\\=\\.\\&\\[\\]\\(\\)\\\"\\'\\`\\;]*)";default:return"([^\\~\\/\\=\\.\\&\\[\\]\\(\\)\\\"\\'\\`\\;]+)"}}();this.pack=pack,this.unpack=unpack,this.Serial=Serial}).call(this);